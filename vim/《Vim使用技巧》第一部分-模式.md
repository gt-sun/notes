## 移动

|按键|解释|
|---|---|
|e|移动到单词的尾部|
|ge|反向移动|
|b|移动到单词的第一个字母，连续按，可一直往前|
|w|移动到下一个单词的第一个字母，连续按，可一直往后|
|100G|移动到第100行|
|viwJ|合并2行|


## 编辑

|按键||
|---|---|
|`> / < / =`|增加 / 减小 / 自动缩进，2>表示缩进2倍|
|yy|复制当前行|
|yiw|复制该单词|
|yt,|复制到第一个,|
|`<C-r>0`|插入模式下，粘贴寄存器里第一个|
|`<C-r><C-p>0`|上面有时会乱，这个是按原义粘贴|



## 删除

|按键|解释|
|---|---|
|x/X|删除光标的后/前一个字符|
|db|删除该单词的前部分|
|dw|删除该单词的后部分包括单词后的空白字符|
|cw|删除该单词的后部分不包括单词后的空白字，并进入插入模式|
|s|删除光标后的一个字符并进入插入模式|
|S|删除光标所在的行并进入插入模式|
|dd|剪切该行|
|daw/diw|剪切光标所在的单词（delete a word）|
|d3w / 3dw|剪切光标处和往后的2个单词，如果光标在第一个字符就是剪切3个单词|
|c3w|同上|
|dap|剪切一个段落|
|daB|剪切"{}"段落|
|dab|剪切"()"段落|
|dG|剪切该行和下面的所有行|
|dgg|剪切该行和上面所有行|
|d$|从这里删除到行尾|
|d0|从这里删除到行首|

编辑模式下的删除

|按键||
|---|---|
|`<C-h>`|等于Backspace|
|`<C-w>`|删除一个单词|
|`<C-u>`|删除至行首|


## 命令行模式

![image](http://o85fa3d0v.bkt.clouddn.com/github/%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F.jpg)

- 自动补全

`<C-d>` 显示所有可输入的命令，`tab`切换命令。

- 关于复制

`:copy`可缩写为`:t`，并且不会使用到寄存器

|按键||
|---|---|
|`.` `$` `%`|分别表示当前行 最后行 所有行|
|`:1`|到文本第一行行首|
|`:$`|到文本最后|
|`:3d`|跳到第3行并且删除该行，其中数字可以换成一个范围，比如`1,3`，`d`可以换成其他命令实现不同功能。|
|`:/xx/+1,/xxx/-1d`|删除xx和xxx之间的行|
|`:.,.+3d`|删除当前行和下面3行|
|`<C-r><C-w>`|把当前单词插入到命令行|

- 使用命令行模式对多行进行操作（比可视模式简单）

对选中行的末尾添加字符：
按`A;<Esc>`，在一行末尾插入封号
按`jVG`高亮选中至最后一行
按`:'<,>'normal .`，对选中行应用前一个动作

更厉害的：
按`:%normal A;` 表示在所有行行末插入封号

- 命令行下一次执行多条命令

`:w | :!python %`  #先w保存再执行该py脚本


在.vimrc中添加：

```
map <F5> :!python %
```


- 查看历史记录

`q:`
`<Ctrl-f>`  #从命令行模式切换到命令行窗口

- `:!ls` 和 `:ls` 的区别

前者调用的是shell中的ls命令，
后者调用的是Vim的内置命令。

- 运行shell命令

|命令|用途|
|-----|-----|
|:shell|启动一个 shell (输入 exit 返回 Vim)|
|:!{cmd}|在 shell 中执行 {cmd}|
|:read :{cmd}|在 shell 中执行 {cmd} ，并把其标准输出插入到光标下方|
|:[range]write !{cmd}|在 shell 中执行 {cmd} ，以 [range] 作为其标准输入|
|:[range]!{filter}|使用外部程序 {filter} 过滤指定的 [range]|`:2,$!sort -t',' -k2`|

## 其他操作

### 寄存器

在插入模式和命令行模式中都可以使用寄存器，按`<C-r>编号`，即可将内容插入进来。

### 插入-普通模式

在插入模式下，按`<C-o>`进入插入-普通模式，可以执行一个普通模式的命令，然后又回到插入模式。

### 计算数字

- 1

|按键||
|---|---|
|`1<C-a>`|将该数字加1，如果光标不在数字上，会向后查找第一个数字|
|`1<C-x>`|将该数字减1|
|PS|在007上使用<C-a>，Vim会当成8进制，在.vimrc里加入：`set nrformats=`，使Vim把所有数字都当成十进制。|

- 2 寄存器

在插入模式下，按`<C-r>=` 进入寄存器，输入`3*4`，按回车，就可以把数字12插入到当前位置处。



### 转换字母大小写

|按键||
|---|---|
|guaw|把单词转换为小写|
|guj / guu|把一行转换为小写|
|gu3j|把3行转换为小写|
|guG / gugg|把下/上面所有行转换为小写|
|PS|U ： 转换为大写|


## 其他

### 可视模式

`v` : 面向一个字符的可视模式；

`V` ： 面向一行；

`gv`： 重新选中上次的部分；

`o` ： 切换选取的端点，选错了可以用这个调整；

- 快速替换单词

按`v`，按`l`移动选中单词，按`c`删除该单词并进入插入模式；

- 大小写转换

选中，按`u`小写，按`U` 大写。

- 画表格

`<C-v>3j` 选中竖方向的3个字符

`r|` 用|替换之

`Vr-` 用-替换一行

```
IAA |  B CCC DDD
----------------
IAA |  B CCC DDD
IAA |  B C|C DDD
IAA |  B C|C DDD
IAA |  B C|C DDD
IAA |  B C|C DDD
```

- 修改列块

将

```
IAA |  B CCC DDD
IAA |  B C|C fff
IAA |  B C|C fff
IAA |  B C|C fff
IAA |  B C|C fff
```

改为

```
IAA |  B CCC DDD
IAA |  B C|C DDD
IAA |  B C|C DDD
IAA |  B C|C DDD
IAA |  B C|C DDD
```

按`<C-v>3j`，按`C`，输入fff，按`Esc`。

- 在长短不一的每行后修改

在

```
[sdfd
sdfs
dsf
sdf
sdf
]
```

最后添加分号：

按`<C-v>G`,按`$`，按`A`，输入分号，按`Esc`。




